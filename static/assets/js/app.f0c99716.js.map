{"version":3,"file":"assets/js/app.f0c99716.js","mappings":"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","sources":["webpack://unipile-web-app/./src/App.vue","webpack://unipile-web-app/./src/App.vue?4129","webpack://unipile-web-app/./src/plugins/vuetify.js","webpack://unipile-web-app/./src/components/Login.vue","webpack://unipile-web-app/./src/api/login.js","webpack://unipile-web-app/src/components/Login.vue","webpack://unipile-web-app/./src/components/Login.vue?b3a6","webpack://unipile-web-app/./src/components/Login.vue?8522","webpack://unipile-web-app/./src/components/DashBoard.vue","webpack://unipile-web-app/src/components/DashBoard.vue","webpack://unipile-web-app/./src/components/DashBoard.vue?c79c","webpack://unipile-web-app/./src/components/DashBoard.vue?80df","webpack://unipile-web-app/./src/router/index.js","webpack://unipile-web-app/./src/main.js","webpack://unipile-web-app/webpack/bootstrap","webpack://unipile-web-app/webpack/runtime/chunk loaded","webpack://unipile-web-app/webpack/runtime/compat get default export","webpack://unipile-web-app/webpack/runtime/define property getters","webpack://unipile-web-app/webpack/runtime/global","webpack://unipile-web-app/webpack/runtime/hasOwnProperty shorthand","webpack://unipile-web-app/webpack/runtime/make namespace object","webpack://unipile-web-app/webpack/runtime/jsonp chunk loading","webpack://unipile-web-app/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-main',{staticClass:\"grey lighten-5\",attrs:{\"fluid\":\"\"}},[_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=962fa3c0\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&id=962fa3c0&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1__lodash@4_6554cb098e537a9b8e01f1854c0c52c1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib/framework';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-app',[_c('v-main',[_c('v-container',{attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm8\":\"\",\"md4\":\"\"}},[_c('v-card',{staticClass:\"elevation-12\"},[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.isRegister ? _vm.stateObj.register.name : _vm.stateObj.login.name)+\" form\")])],1),_c('v-card-text',[_c('form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();_vm.isRegister ? _vm.doRegister() : _vm.doLogin()}}},[_c('v-text-field',{attrs:{\"name\":\"account\",\"label\":\"Account\",\"type\":\"text\",\"placeholder\":\"account\",\"required\":\"\"},model:{value:(_vm.account),callback:function ($$v) {_vm.account=$$v},expression:\"account\"}}),_c('v-text-field',{attrs:{\"name\":\"password\",\"label\":\"Password\",\"type\":\"password\",\"placeholder\":\"password\",\"required\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),(_vm.isRegister)?_c('v-text-field',{attrs:{\"name\":\"confirmPassword\",\"label\":\"Confirm Password\",\"type\":\"password\",\"placeholder\":\"cocnfirm password\",\"required\":\"\"},model:{value:(_vm.confirmPassword),callback:function ($$v) {_vm.confirmPassword=$$v},expression:\"confirmPassword\"}}):_vm._e(),_c('div',{staticClass:\"red--text\"},[_vm._v(\" \"+_vm._s(_vm.errorMessage))]),_c('v-btn',{staticClass:\"mt-4\",attrs:{\"type\":\"submit\",\"color\":\"primary\",\"value\":\"log in\"}},[_vm._v(_vm._s(_vm.isRegister ? _vm.stateObj.register.name : _vm.stateObj.login.name))]),_c('div',{staticClass:\"grey--text mt-4\",on:{\"click\":function($event){_vm.isRegister = !_vm.isRegister;}}},[_vm._v(\" \"+_vm._s(_vm.toggleMessage)+\" \")])],1)])],1)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios'\n\naxios.interceptors.response.use(\n  (response) => {\n    // If the response is successful (status code 2xx), return the response data\n    return response;\n  },\n  (error) => {\n    if (error.response) {\n      const statusCode = error.response.status;\n      const errorMessage = error.response.data.error || 'An error occurred';\n      error.message = errorMessage;\n      error.status = statusCode;\n    }\n    return Promise.reject(error)\n  }\n)\nasync function register(account, password) {\n  const url = \"/users/register\"\n  const result = {\n    message: \"\",\n  }\n  const data = {\n    account: account,\n    password: password\n  }\n  const res = await axios.post(url, data)\n  if(res.status == 201){\n    result.message = res.data.message\n  } else {\n    result.message = res.data.error\n  }\n  return result\n}\n\nasync function login(account, password){\n  const result= {\n    status: 1,\n    accessToken: \"\",\n    refreshToken: \"\",\n    account: \"\"\n  }\n\n  const url = \"/users/login\"\n  const data = {\n    account: account,\n    password: password\n  }\n  const res = await axios.post(url, data)\n  if(res.status){\n    console.log({data: res.data});\n    result.status = 0\n\n    result.accessToken = res.data.access_token\n    result.refreshToken = res.data.refresh_token \n    result.account = res.data.account\n    setLoginStore({\n      isLogin: true,\n      accessToken: result.accessToken,\n      refreshToken: result.refreshToken,\n      account: res.data.account,\n      lastUpdatedAt: new Date().getTime()\n    })\n  }\n\n  return result\n}\n\n\nasync function authToken(token){\n  const result = {\n      status: \"\",\n      account: \"\"\n  }\n  const url = \"/users/auth\"\n  const headers = {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${token}`,\n    'Accept': 'application/json'\n  }\n  const res = await axios.post(url, null, { headers })\n  if(res.data){\n    result.status = \"jwt verify success\"\n    result.account = res.data.account\n    await setLoginStore({\n      isLogin: true,\n      account: result.account,\n      lastAuthAt: new Date().getTime()\n    })\n  }else{\n    await setLoginStore({\n      isLogin: false,\n      account: \"\"\n    })\n  }\n\n  return result\n}\n\nasync function logout() {\n  console.log('before logout')\n  window.localStorage.removeItem('accessToken')\n  window.localStorage.removeItem('refreshToken')\n  window.localStorage.removeItem('account')\n  window.localStorage.removeItem('lastUpdatedAt')\n  window.localStorage.removeItem('lastAuthAt')\n  window.localStorage.setItem('isLogin', false)\n}\n\nfunction setLoginStore(options){\n  if (options.isLogin){\n    window.localStorage.setItem(\"isLogin\", options.isLogin)\n  }\n  if (options.accessToken){\n    window.localStorage.setItem(\"accessToken\", options.accessToken)\n  }\n  if (options.refreshToken){\n    window.localStorage.setItem(\"refreshToken\", options.refreshToken)\n  }\n  if (options.account){\n    window.localStorage.setItem(\"account\", options.account)\n  }\n  if (options.lastUpdatedAt) {\n    window.localStorage.setItem(\"lastUpdatedAt\", options.lastUpdatedAt)\n  }\n  if (options.lastAuthAt) {\n    window.localStorage.setItem(\"lastAuthAt\", options.lastAuthAt)\n  }\n}\n\nexport { register, login, authToken, logout}","<template>\n   <v-app >\n      <v-main>\n         <v-container fluid fill-height>\n            <v-layout align-center justify-center>\n               <v-flex xs12 sm8 md4>\n                  <v-card class=\"elevation-12\">\n                     <v-toolbar dark color=\"primary\">\n                        <v-toolbar-title>{{isRegister ? stateObj.register.name : stateObj.login.name}} form</v-toolbar-title>\n                     </v-toolbar>\n                     <v-card-text>\n                     <form ref=\"form\" @submit.prevent=\"isRegister ? doRegister() : doLogin()\">\n                            <v-text-field\n                              v-model=\"account\"\n                              name=\"account\"\n                              label=\"Account\"\n                              type=\"text\"\n                              placeholder=\"account\"\n                              required\n                           ></v-text-field>\n                           \n                            <v-text-field\n                              v-model=\"password\"\n                              name=\"password\"\n                              label=\"Password\"\n                              type=\"password\"\n                              placeholder=\"password\"\n                              required\n                           ></v-text-field>\n\n                           <v-text-field v-if=\"isRegister\"\n                              v-model=\"confirmPassword\"\n                              name=\"confirmPassword\"\n                              label=\"Confirm Password\"\n                              type=\"password\"\n                              placeholder=\"cocnfirm password\"\n                              required\n                           ></v-text-field>\n                           <div class=\"red--text\"> {{errorMessage}}</div>\n                           <v-btn type=\"submit\" class=\"mt-4\" color=\"primary\" value=\"log in\">{{isRegister ? stateObj.register.name : stateObj.login.name}}</v-btn>\n                           <div class=\"grey--text mt-4\" v-on:click=\"isRegister = !isRegister;\">\n                              {{toggleMessage}}  \n                           </div>\n                      </form>\n                     </v-card-text>\n                  </v-card>\n                \n               </v-flex>\n            </v-layout>\n         </v-container>\n      </v-main>\n   </v-app>\n</template>\n\n<script>\nimport { login, register } from '../api/login';\nexport default {\n   name: \"UserLogin\",\n   data() {\n      return {\n         account: \"\",\n         password: \"\",\n         confirmPassword: \"\",\n         isRegister : false,\n         errorMessage: \"\",\n         stateObj: {\n            register :{\n               name: 'Register',\n               message: 'Aleady have an Acoount? login.'\n            },\n            login : {\n               name: 'Login',\n               message: 'Register'\n            }\n         }\n      };\n   },\n   methods: {\n      async doLogin() {\n         const { account: account, password: password } = this;\n         try {\n            const result = await login(account, password);\n            console.log(result);\n            this.$router.replace({ name: \"dashboard\", params:{ account: result.account } });\n         } \n         catch (error) {\n            console.log(error)\n            this.errorMessage = error.message\n         }\n      },\n      async doRegister() {\n         if(this.password == this.confirmPassword){\n            const { account: account, password: password } = this;\n            try {\n               const result = await register(account, password);\n               console.log(result.message);\n               this.isRegister = false;\n               this.errorMessage = \"\";\n               this.$refs.form.reset();\n            } catch (error) {\n               this.errorMessage = error.message\n            }\n         }\n         else {\n            this.errorMessage = \"password did not match\"\n         }\n      }\n   },\n   computed: {\n      toggleMessage : function() { \n          return this.isRegister ? this.stateObj.register.message : this.stateObj.login.message }\n   }\n};\n</script>","import mod from \"-!../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.102.1/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.28.4_webpack@5.102.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1__lodash@4_6554cb098e537a9b8e01f1854c0c52c1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.102.1/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.28.4_webpack@5.102.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1__lodash@4_6554cb098e537a9b8e01f1854c0c52c1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=424ca6e2\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1__lodash@4_6554cb098e537a9b8e01f1854c0c52c1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-app',[_c('v-main',[_c('v-toolbar',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"fixed\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"Manage Page\")])],1),_c('v-navigation-drawer',{attrs:{\"permanent\":\"\"}},[_c('v-list',[_c('v-list-item',{staticClass:\"px-2\"},[_c('v-list-item-avatar',[_c('v-img',{attrs:{\"src\":\"https://randomuser.me/api/portraits/women/85.jpg\"}})],1)],1),_c('v-list-item',{attrs:{\"link\":\"\"}},[_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"text-h6\"},[_vm._v(\" \"+_vm._s(_vm.username || 'Username')+\" \")]),_c('v-list-item-subtitle',{on:{\"click\":_vm.doLogout}},[_vm._v(\"log out\")])],1)],1)],1),_c('v-divider'),_c('v-list',{attrs:{\"dense\":\"\",\"nav\":\"\"}},_vm._l((_vm.items),function(item){return _c('v-list-item',{key:item.title,attrs:{\"link\":\"\"}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(_vm._s(item.icon))])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(item.title))])],1)],1)}),1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<v-app>\n  <v-main>\n    <v-toolbar color=\"primary\" dark fixed>\n      <v-toolbar-title>Manage Page</v-toolbar-title>\n    </v-toolbar>\n    <v-navigation-drawer\n    permanent>\n        <v-list>\n          <v-list-item class=\"px-2\">\n            <v-list-item-avatar>\n              <v-img src=\"https://randomuser.me/api/portraits/women/85.jpg\"></v-img>\n            </v-list-item-avatar>\n          </v-list-item>\n\n          <v-list-item link>\n            <v-list-item-content>\n              <v-list-item-title class=\"text-h6\">\n                {{username || 'Username'}}\n              </v-list-item-title>\n              <v-list-item-subtitle v-on:click=\"doLogout\">log out</v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list>\n\n      <v-divider></v-divider>\n\n      <v-list\n        dense\n        nav\n      >\n        <v-list-item\n          v-for=\"item in items\"\n          :key=\"item.title\"\n          link\n        >\n          <v-list-item-icon>\n            <v-icon>{{ item.icon }}</v-icon>\n          </v-list-item-icon>\n\n          <v-list-item-content>\n            <v-list-item-title>{{ item.title }}</v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n      </v-list>\n    </v-navigation-drawer>\n  </v-main>\n</v-app>\n</template>\n\n<script>\nimport { logout } from '../api/login';\n  export default {\n    data () {\n      return {\n        items: [\n          { title: 'Dashboard', icon: 'mdi-view-dashboard' },\n          { title: 'Photos', icon: 'mdi-image' },\n          { title: 'About', icon: 'mdi-help-box' },\n        ],\n        username:this.$route.params.account\n      }\n    },\n    methods: {\n      async doLogout() {\n        await logout()\n        console.log('after clear set')\n        this.$router.replace({name:'login'})\n      }\n    }\n  }\n</script>","import mod from \"-!../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.102.1/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.28.4_webpack@5.102.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1__lodash@4_6554cb098e537a9b8e01f1854c0c52c1/node_modules/vue-loader/lib/index.js??vue-loader-options!./DashBoard.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.102.1/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.28.4_webpack@5.102.1/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1__lodash@4_6554cb098e537a9b8e01f1854c0c52c1/node_modules/vue-loader/lib/index.js??vue-loader-options!./DashBoard.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DashBoard.vue?vue&type=template&id=9bcce8ee\"\nimport script from \"./DashBoard.vue?vue&type=script&lang=js\"\nexport * from \"./DashBoard.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1__lodash@4_6554cb098e537a9b8e01f1854c0c52c1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Login from '../components/Login.vue'\nimport DashBoard from '../components/DashBoard.vue'\nimport { authToken, logout } from '../api/login'\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'login',\n    component: Login\n  },\n  {\n    path: '/dashboard',\n    name: 'dashboard',\n    component: DashBoard,\n    props: {},\n    meta: {                    //新增\n      needLogin: true          //新增\n    } \n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nrouter.beforeEach( async (to, from, next) => {\n  const isLogin = window.localStorage.getItem(\"isLogin\")\n  const token = window.localStorage.getItem('accessToken')\n  const account = window.localStorage.getItem('account')\n  const lastAuthAt = window.localStorage.getItem('lastAuthAt')\n  const now = new Date().getTime()\n  console.log({isLogin, token, from})\n  if (token != null && token != undefined && token != '')  {\n    if (!isLogin) {\n      if (to.name != 'login') {\n        next({name: 'login'})\n      }\n    } else { // isLogin == true\n      if (now - lastAuthAt <= 30000) {\n        if (to.name == 'login') {\n          next({name: 'dashboard', params: {account: account}})\n        } else {\n          next()\n        }\n      } else {\n        const authResult = await authToken(token)\n        console.log({to: to.name, from: from.name, authResult})\n        if (authResult.status) {\n          if (to.name == 'login') {\n            next({name: 'dashboard', params: {account: authResult.account}})\n          } else {\n            next()\n          }\n        } else {\n          await logout()\n          next({name: 'login'})\n        }\n      }\n    }\n  } else {\n    next()\n  }\n\n})\nexport default router\n","import Vue from 'vue'\nimport App from './App.vue'\nimport vuetify from './plugins/vuetify'\nimport router from './router'\n\nVue.config.productionTip = false\n\nnew Vue({\n  vuetify,\n  router,\n  render: h => h(App)\n}).$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkunipile_web_app\"] = self[\"webpackChunkunipile_web_app\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(5489); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_c","_self","staticClass","staticRenderFns","script","component","render","Vue","use","Vuetify","attrs","ref","_vm","isRegister","model","value","callback","expression","$event","_v","async","register","account","password","url","result","message","data","res","axios","post","status","error","login","accessToken","refreshToken","console","log","access_token","refresh_token","setLoginStore","isLogin","lastUpdatedAt","Date","getTime","authToken","token","headers","lastAuthAt","logout","window","localStorage","removeItem","setItem","options","interceptors","response","statusCode","errorMessage","Promise","reject","name","confirmPassword","stateObj","methods","doLogin","$router","replace","params","doRegister","$refs","form","reset","computed","toggleMessage","_s","username","on","doLogout","item","items","title","icon","$route","VueRouter","routes","path","Login","DashBoard","props","meta","needLogin","router","mode","base","process","beforeEach","to","from","next","getItem","now","undefined","authResult","config","productionTip","vuetify","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","Object","keys","every","key","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}